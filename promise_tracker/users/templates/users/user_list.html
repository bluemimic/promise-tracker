{% extends 'core/base.html' %}
{% load i18n %}

{% block title %}{% translate "Users" %}{% endblock %}

{% block content %}
<div class="row mt-4">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3>{% translate "Users" %}</h3>
            <a href="{% url 'users:create' %}" class="btn btn-success">{% translate "Create User" %}</a>
        </div>

        <div class="table-responsive">
            <form id="filter-form" method="get" class="mb-3"
                  hx-get="{% url 'users:list' %}"
                  hx-trigger="keyup changed delay:500ms from:input, change from:select"
                  hx-target="#users-table"
                  hx-swap="outerHTML"
                  >
                <div class="card card-body p-3 mb-3">
                    <div class="row g-2 align-items-end flex-column">
                        <div>
                            {% include 'core/_filters.html' with form=filter_form %}
                        </div>
                        <div class="text-start">
                            <a href="{% url 'users:list' %}" class="btn btn-outline-secondary">{% translate "Reset" %}</a>
                        </div>
                    </div>
                </div>
            </form>

            {% include 'users/_users_table.html' %}
        </div>
    </div>
</div>
{% endblock %}