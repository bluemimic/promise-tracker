{% extends 'core/base.html' %}
{% load i18n %}

{% block title %}{% translate "Promises" %}{% endblock %}

{% block content %}
<div class="mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h4">{% translate "Promises" %}</h1>
    {% if request.user.is_authenticated %}
    <a href="{% url 'promises:promises:create' %}" class="btn btn-success">{% translate "Create" %}</a>
    {% endif %}
  </div>
  
  <div class="card mb-3">
    <div class="card-body">
          <form id="promises-filter" method="get" class="mb-3"
            hx-get="{% url 'promises:promises:list' %}"
            hx-trigger="keyup delay:500ms, change from:input, change from:select"
            hx-target="#promises-cards"
            hx-swap="outerHTML">
          {% csrf_token %}
          {% include 'core/_filters.html' with form=filter_form %}
          <div class="mt-2">
            <a href="{% url 'promises:promises:list' %}" class="btn btn-outline-secondary">{% translate "Reset" %}</a>
          </div>
        </form>
    </div>
  </div>
</div>

{% include 'promises/promises/_promises_cards.html' %}

{% endblock %}
