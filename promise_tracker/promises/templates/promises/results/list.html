{% extends 'core/base.html' %}
{% load i18n roles_tags %}

{% block title %}{% translate "Promise results" %}{% endblock %}

{% block content %}
<div class="mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="h4">{% translate "Promise results" %}</h1>
    </div>

    {% if filter_form %}
    <div class="card mb-3">
        <div class="card-body">
            <form id="results-filter" method="get" class="mb-3" hx-get="{% if all %}{% url 'promises:promise_results:list' %}{% elif mine %}{% url 'promises:promise_results:mine' %}{% endif %}"
                hx-trigger="keyup delay:500ms, change from:input, change from:select" hx-target="#results-cards"
                hx-swap="outerHTML">
                {% csrf_token %}
                {% include 'core/_filters.html' with form=filter_form %}
                <div class="mt-2">
                    <a href="{% if all %}{% url 'promises:promise_results:list' %}{% elif mine %}{% url 'promises:promise_results:mine' %}{% endif %}" class="btn btn-outline-secondary">{% translate "Reset" %}</a>
                </div>
            </form>
        </div>
    </div>
    {% endif %}

    {% include 'promises/results/_results_cards.html' with page_obj=page_obj %}
</div>

{% endblock %}