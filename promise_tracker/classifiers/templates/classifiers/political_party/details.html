{% extends 'core/base.html' %}
{% load i18n roles_tags %}

{% block title %}{% translate "Political Party" %}{% endblock %}

{% block content %}
<div class="row justify-content-center mt-4">
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <h2 class="h5 mb-3">{{ political_party.name }}</h2>

        {% is_admin request.user as is_admin %}

        <dl class="row">
          <dt class="col-sm-3">{% translate "ID" %}</dt>
          <dd class="col-sm-9">{{ political_party.id }}</dd>

          <dt class="col-sm-3">{% translate "Established" %}</dt>
          <dd class="col-sm-9">{{ political_party.established_date }}</dd>

          <dt class="col-sm-3">{% translate "Liquidated" %}</dt>
          <dd class="col-sm-9">{% if political_party.liquidated_date %}{{ political_party.liquidated_date }}{% else %}{% translate "No" %}{% endif %}</dd>
        </dl>

        {% if is_admin %}
        <hr />
        <dl class="row small text-muted">
          <dt class="col-sm-3">{% translate "Created" %}</dt>
          <dd class="col-sm-9">{{ political_party.created_at }}</dd>

          <dt class="col-sm-3">{% translate "Created by" %}</dt>
          <dd class="col-sm-9">{{ political_party.created_by }}</dd>

          <dt class="col-sm-3">{% translate "Last modified" %}</dt>
          <dd class="col-sm-9">{{ political_party.updated_at }}</dd>

          <dt class="col-sm-3">{% translate "Modified by" %}</dt>
          <dd class="col-sm-9">{{ political_party.updated_by }}</dd>
        </dl>
        {% endif %}

        <div class="mt-3">
          <a href="{% url 'classifiers:political_parties:edit' political_party.id %}" class="btn btn-primary">{% translate "Edit" %}</a>
          <a href="{% url 'classifiers:political_parties:list' %}" class="btn btn-secondary">{% translate "Back" %}</a>

          <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deletePartyModal">
            {% translate "Delete" %}
          </button>

          <div class="modal fade" id="deletePartyModal" tabindex="-1" aria-labelledby="deletePartyModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="deletePartyModalLabel">{% translate "Confirm Deletion" %}</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  {% translate "Are you sure you want to delete this party?" %}
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{% translate "Cancel"%}</button>
                  <form action="{% url 'classifiers:political_parties:delete' political_party.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger">{% translate "Delete" %}</button>
                  </form>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

  </div>
</div>

{% endblock %}